layout_folder_pipenv() {
  local folder=.
  local pipfile="Pipfile"
  if [[ $# -ne 0 ]]; then
	  folder=$1
      pipfile=$folder"Pipfile"
  fi
  if [[ ! -f $pipfile ]]; then
    log_error 'No Pipfile found.  Use `pipenv` to create a Pipfile first.'
    exit 2
  fi

  cd $folder
  local VENV=$(pipenv --bare --venv 2>/dev/null)
  if [[ -z $VENV || ! -d $VENV ]]; then
    pipenv install --dev
  fi

  export VIRTUAL_ENV=$(pipenv --venv)
  PATH_add "$VIRTUAL_ENV/bin"
  export PIPENV_ACTIVE=1
  cd -
}


layout_nvim() {
  local nvim_dir=$(direnv_layout_dir)/nvim/
  if [[ ! -d "$nvim_dir" ]]; then
    mkdir -p $nvim_dir
  fi
  touch "${nvim_dir}init.vim"
}


layout_ag() {
  touch $(direnv_layout_dir)/.agignore
}
