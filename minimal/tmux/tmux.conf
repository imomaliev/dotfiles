# vim:ft=tmux.conf:

set -g default-terminal "tmux-256color"

# Open new window and pane in current directory
unbind-key c
bind-key c new-window -c "#{pane_current_path}"
bind-key C new-window
unbind-key %
bind-key % split-window -h -c "#{pane_current_path}"
unbind-key '"'
bind-key '"' split-window -c "#{pane_current_path}"

# make window/pane index start with 1
set-option -g base-index 1
set-option -wg pane-base-index 1

# make esc delay shorter
# https://github.com/neovim/neovim/wiki/FAQ#esc-in-tmux-or-gnu-screen-is-delayed
set-option -sg escape-time 200

# Use vim keybindings in copy mode
set-option -wg mode-keys vi
set-option -g status-keys vi

# enter search
# bind key to multiple commands http://superuser.com/questions/352117/binding-a-tmux-key-to-multiple-commands
bind-key / copy-mode\; command-prompt -p "search up" "send-keys -X search-backward '%%%'"

# vim like copy and paste
# unbind previous-window
unbind-key p
# unbind original paste
unbind-key ]
bind-key p paste-buffer

# rebind begin-selection
unbind-key -T copy-mode-vi Space
bind-key -T copy-mode-vi v send-keys -X begin-selection

# rebind copy-selection
unbind-key -T copy-mode-vi C-j
unbind-key -T copy-mode-vi Enter
bind-key -T copy-mode-vi y send-keys -X copy-selection

bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle
